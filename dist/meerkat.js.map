{"version":3,"file":"meerkat.js","sources":["../src/utils/config.js","../src/utils/index.js","../src/utils/cache.js","../src/utils/report.js","../src/performance/fetch.js","../src/performance/observiceEntries.js","../src/performance/observerLoad.js","../src/performance/observerFCP.js","../src/performance/observerLCP.js","../src/performance/observerPaint.js","../src/performance/index.js","../src/error/index.js","../src/behavior/onClick.js","../src/behavior/pageChange.js","../src/behavior/pv.js","../src/behavior/index.js","../src/index.js"],"sourcesContent":["const config = {\n    url:'http://127.0.0.1:8080/api',\n    projectName:'eyesdk',\n    appId:'123456',\n    userId:'123123123',\n    batchSize:20\n};\n\nexport function setConfig(options){\n    for(let key in options){\n        if(config[key]){\n            config[key]=options[key];\n        }\n    }\n}\n\nexport default config;","export function deepCopy(target) {\n    if (typeof target === 'object') {\n        const result = Array.isArray(target) ? [] : {}\n        for (const key in target) {\n            if (typeof target[key] == 'object') {\n                result[key] = deepCopy(target[key])\n            } else {\n                result[key] = target[key]\n            }\n        }\n        return result\n    }\n\n    return target\n}\n\nexport function generateUniqueID() {\n    return `meerkat-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`\n}","import { deepCopy } from './index'\n\nconst cache = []\n\nexport function getCache() {\n    return deepCopy(cache)\n}\n\nexport function addCache(data) {\n    cache.push(data)\n}\n\nexport function clearCache() {\n    cache.length = 0\n}\n","import config  from \"./config\";\nimport { generateUniqueID } from './index'\nimport { addCache, clearCache, getCache } from \"./cache\";\nexport const originalProto = XMLHttpRequest.prototype;\nexport const originalSend = originalProto.send;\nexport const originalOpen = originalProto.open;\n\nexport function lazyReportBatch(data){\n    console.log(`data`,data);\n    addCache(data);\n    const reqData = getCache();\n    if(reqData.length&&reqData.length>config.batchSize){\n        console.log('data----',reqData)\n        report(reqData);\n        clearCache();\n    }\n}\n\nexport function report(data){\n    if(!config.url){\n        console.log('请设置上传的url地址');\n    }\n\n    const reportData = JSON.stringify({\n        id: generateUniqueID(),\n        data\n    })\n\n    if(isSupportSendBeacon()){\n        sendBeaconRequest(config,reportData);\n    }else{\n        if(config.useImageUpload){\n            imgRequest(config,reportData);\n        }else{\n            console.log('config.url',config.url);\n            xhrRequest(config.url, reportData)\n        }\n    }\n} \n\n// 发送图片数据\nexport function imgRequest(config,data){\n    const img = new Image();\n    img.src=`${config.url}?data=${encodeURIComponent(JSON.stringify(data))}`\n}\n\n// xhr\nexport function xhrRequest(url, data) {\n    const xhr = new XMLHttpRequest()\n    if (window.requestIdleCallback) {\n         window.requestIdleCallback(() => {\n            originalOpen.call(xhr, 'post', url)\n            originalSend.call(xhr, JSON.stringify(data))\n            console.log('data', data)\n        }, { timeout: 3000 })\n    } else {\n        setTimeout(() => {\n            console.log('request2')\n            originalOpen.call(xhr, 'post', url)\n            originalSend.call(xhr, JSON.stringify(data))\n        })\n    }\n}\n// sendBeacon\nexport function isSupportSendBeacon() {\n    return !!window.navigator?.sendBeacon\n}\n// const sendBeacon = isSupportSendBeacon() ? window.navigator.sendBeacon.bind(window.navigator) : xhrRequest\nconst sendBeacon = isSupportSendBeacon() ? window.navigator.sendBeacon.bind(window.navigator) : (url, data) => xhrRequest(url, data)\nexport function sendBeaconRequest(config,data) {\n     if (window.requestIdleCallback) {\n        window.requestIdleCallback(() => {\n            sendBeacon(config.url, data)\n        }, { timeout: 3000 })\n    } else {\n        setTimeout(() => {\n            sendBeacon(config.url, data)\n        })\n    }\n}\n\n","\nimport { lazyReportBatch } from '../utils/report'\n\nconst originalFetch = window.fetch\n\nfunction overwriteFetch() {\n    window.fetch = function newFetch(url, config) {\n        const startTime = Date.now()\n        const reportData = {\n            startTime,\n            url,\n            method: (config?.method || 'GET').toUpperCase(),\n            subType: 'fetch',\n            type: 'performance',\n        }\n        return originalFetch(url, config)\n        .then(res => {\n            reportData.endTime = Date.now()\n            reportData.duration = reportData.endTime - reportData.startTime\n\n            const data = res.clone()\n            reportData.status = data.status\n            reportData.success = data.ok\n             //上报数据\n            lazyReportBatch(reportData);\n            return res\n        })\n        .catch(err => {\n            reportData.endTime = Date.now();\n            reportData.duration = reportData.endTime - reportData.startTime;\n            reportData.status = 0;\n            reportData.success = false;\n             //上报数据\n            lazyReportBatch(reportData);\n        })\n    }\n}\n\nexport default function fetch() {\n    overwriteFetch()\n}","import { lazyReportBatch } from '../utils/report';\n\n// 统计静态资源加载性能\nexport default function observeEntries(){\n    if(document.readyState==='complete'){\n       observeEvent()\n    }else{\n        const onLoad = ()=>{\n           observeEvent();\n           window.removeEventListener('load',onLoad,true)\n        }\n        window.addEventListener('load',onLoad,true)\n    }\n}\n\nexport function observeEvent(){\n    const entryHandler = (list)=>{\n        const data = list.getEntries();\n        for(let entry of data){\n            if(observer){\n                observer.disconnect();\n            }\n            const reportData = {\n                name: entry.name, // 资源名字\n                type: 'performance', // 统计类型\n                subType: entry.entryType,// entry 类型\n                sourceType: entry.initiatorType, // 资源类型\n                duration: entry.duration,// 资源加载时间\n                dns: entry.domainLookupEnd - entry.domainLookupStart,// dns 解析时间\n                tcp: entry.connectEnd-entry.connectStart,// tcp 建连时间\n                redirect: entry.redirectEnd - entry.redirectStart,// 重定向时间\n                ttdb: entry.respinseStart,// 首字节时间\n                protocol: entry.nextHopProtocol, // 请求协议\n                responseBodySize: entry.encodeBodySize,// 响应内容大小\n                responseHandlerSize: entry.transferSize-entry.encodeBodySize, // 响应头部大小\n                transferSize: entry.transferSize,// 请求内容大小，\n                resourceSize: entry.decodeBodySize,//资源解压后的大小,\n                startTime: performance.now(),// \n            }\n            // 上报数据\n            lazyReportBatch(reportData)\n        }\n        \n    }\n    const observer = new PerformanceObserver(entryHandler);\n    observer.observe({type:['resource'],buffered:true});\n}\n\n","// 统计页面load时间\nimport { lazyReportBatch } from '../utils/report';\n\nexport default function observeLoad(){  \n    window.addEventListener('pageShow',function(event){\n        requestAnimationFrame(()=>{\n            ['load'].forEach((type)=>{\n                const reportData = {\n                    type:'performance',\n                    subType:type,\n                    pageUrl:window.location.href,\n                    startTime: performance.now()- event.timeStamp\n                }\n                lazyReportBatch(reportData)\n            })\n        },true)\n    })\n}\n","\nimport { lazyReportBatch } from '../utils/report'\n\nexport default function observerFCP(){\n    const entryHandler = (list)=>{\n    for(const entry of list.getEntries()) {\n            if(entry.name==='first-content-paint'){\n                observer.disconnect();\n                const json = entry.toJSON();\n                const reportData = {\n                    ...json,\n                    type: 'performance',\n                    subType: entry.name,\n                    pageUrl: window.location.href\n                }\n                lazyReportBatch(reportData);\n            }\n    }\n    }\n    \n    // 统计计算fp 页面白屏时间\n    const observer = new PerformanceObserver(entryHandler);\n    observer.observe({type:'paint',buffered:true});\n}","import { lazyReportBatch } from '../utils/report';\n\nexport default function observerLCP(){\n  const entryHandler = (list) => {\n        if (observer) {\n            observer.disconnect()\n        }\n        for (const entry of list.getEntries()) {\n            const json = entry.toJSON()\n            console.log('json',json);\n            const reportData = {\n                ...json,\n                target: entry.element?.tagName,\n                name: entry.entryType,\n                subType: entry.entryType,\n                type: 'performance',\n                pageURL: window.location.href,\n            }\n            lazyReportBatch(reportData)\n        }\n    }\n\n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'largest-contentful-paint', buffered: true })\n\n}\n","import { lazyReportBatch } from '../utils/report';\n\nexport default function observerPaint(){\n    const entryHandler = (list)=>{\n    for(const entry of list.getEntries()) {\n            if(entry.name==='first-paint'){\n                observer.disconnect();\n                const json = entry.toJSON();\n                console.log(json);\n                const reportData = {\n                    ...json,\n                    type: 'performance',\n                    subType: entry.name,\n                    pageUrl: window.location.href\n                }\n                lazyReportBatch(reportData)\n            }\n        }\n    }\n    // 统计计算fp 页面白屏时间\n    const observer = new PerformanceObserver(entryHandler);\n    observer.observe({type:'paint',buffered:true});\n}   ","import fetch from \"./fetch\";\nimport observeEntries from \"./observiceEntries\";\nimport observeLoad from \"./observerLoad\";\nimport observerFCP from \"./observerFCP\";\nimport observerLCP from './observerLCP';\nimport observerPaint from './observerPaint'\nimport xhr from \"./xhr\";\n\nexport default function performance(){\n    fetch();\n    observeEntries();\n    observeLoad();\n    observerFCP();\n    observerLCP();\n    observerPaint();\n    xhr();\n}","\nimport { lazyReportBatch } from '../utils/report'\n\nexport default function error(){\n    // 捕获资源加载错误\n    window.addEventListener('error',(event)=>{\n        const target = event.target;\n        if(!target){\n            return;\n        }\n        if(target.src||target.href){\n            const url = target.src||target.href;\n            const reportData = {\n                type:'error',\n                subType:'resource',\n                url,\n                html:target.outerHTML,\n                pageUrl: window.location.href,\n                paths: event.path,\n                resourceType: target.tagName\n            }\n            lazyReportBatch(reportData)\n        }\n    },true)\n    // 捕获js错误\n    window.onerror = function(msg,url,lineNo,columnNo,error){\n        const reportData={\n            type:'error',\n            subType:'js',\n            msg,\n            url,\n            lineNo,\n            columnNo,\n            stack:error.stack,\n            pageUrl:window.location.href\n        }\n        lazyReportBatch(reportData)\n    }\n    // 捕获 promise 错误\n    window.addEventListener('unhandledrejection',(event)=>{\n        const reportData = {\n            type:'error',\n            subType:'promise',\n            reason: event.reason?.stack,\n            pageUrl:window.location.href,\n            startTIme: event.timeStamp\n        }\n        lazyReportBatch(reportData)\n    },true)\n\n}","\nimport { lazyReportBatch } from '../utils/report'\nimport { generateUniqueID } from '../utils/index'\n\nexport default function onClick() {\n    ['mousedown', 'touchstart'].forEach(eventType => {\n        window.addEventListener(eventType, event => {\n            const target = event.target\n            const { top, left } = target.getBoundingClientRect()\n            lazyReportBatch({\n                top,\n                left,\n                eventType,\n                pageHeight: document.documentElement.scrollHeight || document.body.scrollHeight,\n                scrollTop: document.documentElement.scrollTop || document.body.scrollTop,\n                type: 'behavior',\n                subType: 'click',\n                target: target.tagName,\n                paths: event.path||event?.composedPath()?.map(item=>item.tagName),\n                startTime: event.timeStamp,\n                pageURL: window.location.href,\n                outerHTML: target.outerHTML,\n                innerHTML: target.innerHTML,\n                width: target.offsetWidth,\n                height: target.offsetHeight,\n                uuid: generateUniqueID(),\n            })\n        })\n    })\n}","import { lazyReportBatch } from '../utils/report'\nimport { generateUniqueID } from '../utils/index'\n\n// 上报页面改变事件\nexport default function pageChange() {\n    let oldURL = '';\n    window.addEventListener('hashchange', event => {\n        const newURL = event.newURL\n        lazyReportBatch({\n            from: oldURL,\n            to: newURL,\n            type: 'behavior',\n            subType: 'hashchange',\n            startTime: performance.now(),\n            uuid: generateUniqueID(),\n        })\n        oldURL = newURL\n    }, true)\n\n    let from = ''\n    window.addEventListener('popstate', () => {\n        const to = window.location.href;\n        lazyReportBatch({\n            from,\n            to,\n            type: 'behavior',\n            subType: 'popstate',\n            startTime: performance.now(),\n            uuid: generateUniqueID(),\n        })\n        from = to\n    }, true)\n}","\nimport { lazyReportBatch } from '../utils/report'\nimport { generateUniqueID } from '../utils/index'\n\n// 上报pv数据;\n\nexport default function pv() {\n    lazyReportBatch({\n        type: 'behavior',\n        subType: 'pv',\n        startTime: performance.now(),\n        pageURL: window.location.href,\n        referrer: document.referrer,\n        uuid: generateUniqueID(),\n    })\n}","import onClick from \"./onClick\";\nimport pageChange from \"./pageChange\";\nimport pv from \"./pv\";\n\nexport default function behavior(){\n   pv();\n   pageChange();\n   onClick();\n}\n","import performance from \"./performance/index\";\nimport error from \"./error/index\";\nimport behavior from \"./behavior/index\";\nimport { setConfig } from \"./utils/config\";\nimport { lazyReportBatch } from './utils/report'\n\nwindow.__webEyeSDK__ = {\n    version: '1.0.0'\n}\n\nfunction install(Vue,options){\n    if(window.__webEyeSDK__.vue){\n        return\n    }\n    setConfig(options)\n    window.__webEyeSDK__.vue=true;\n    const handler = Vue.config.errorHandler;\n    Vue.config.errorHandler = function(err,vm,info){\n\n        const reportData = {\n            info,\n            error:err.stack,\n            subType:'vue',\n            type:'error',\n            startTime:window.performance.now(),\n            pageURL: window.location.href\n        }\n\n        lazyReportBatch(reportData);\n\n        if(handler){\n            handler.call(this,err,vm,info)\n        }\n    }\n}\n\nfunction errorBoundary(err,info,options={}){\n    if(window.__webEyeSDK__.react){\n        return\n    }\n    window.__webEyeSDK__.react = true;\n    setConfig(options);\n    const reportData = {\n        info,\n        error:err?.stack,\n        subType:'react',\n        type:'error',\n        startTime:window.performance.now(),\n        pageURL: window.location.href\n    }\n\n    lazyReportBatch(reportData);\n}   \n\n\nfunction init (options){\n    setConfig(options);\n    // error();\n    // performance();\n    behavior();\n}\n\nexport default {\n    errorBoundary,\n    install,\n    performance,\n    behavior,\n    error,\n    init,\n}"],"names":["config","url","projectName","appId","userId","batchSize","setConfig","options","key","deepCopy","target","_typeof","result","Array","isArray","generateUniqueID","concat","Date","now","Math","floor","random","cache","getCache","addCache","data","push","clearCache","length","originalProto","XMLHttpRequest","prototype","originalSend","send","originalOpen","open","lazyReportBatch","console","log","reqData","report","reportData","JSON","stringify","id","isSupportSendBeacon","sendBeaconRequest","useImageUpload","imgRequest","xhrRequest","img","Image","src","encodeURIComponent","xhr","window","requestIdleCallback","call","timeout","setTimeout","_window$navigator","navigator","sendBeacon","bind","originalFetch","fetch","overwriteFetch","newFetch","startTime","method","toUpperCase","subType","type","then","res","endTime","duration","clone","status","success","ok","catch","err","observeEntries","document","readyState","observeEvent","onLoad","removeEventListener","addEventListener","entryHandler","list","getEntries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","observer","disconnect","name","entryType","sourceType","initiatorType","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttdb","respinseStart","protocol","nextHopProtocol","responseBodySize","encodeBodySize","responseHandlerSize","transferSize","resourceSize","decodeBodySize","performance","e","f","PerformanceObserver","observe","buffered","observeLoad","event","requestAnimationFrame","forEach","pageUrl","location","href","timeStamp","observerFCP","json","toJSON","_objectSpread","observerLCP","_entry$element","element","tagName","pageURL","observerPaint","error","html","outerHTML","paths","path","resourceType","onerror","msg","lineNo","columnNo","stack","_event$reason","reason","startTIme","onClick","eventType","_event$composedPath","_target$getBoundingCl","getBoundingClientRect","top","left","pageHeight","documentElement","scrollHeight","body","scrollTop","composedPath","map","item","innerHTML","width","offsetWidth","height","offsetHeight","uuid","pageChange","oldURL","newURL","from","to","pv","referrer","behavior","__webEyeSDK__","version","install","Vue","vue","handler","errorHandler","vm","info","errorBoundary","arguments","undefined","react","init"],"mappings":"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"}