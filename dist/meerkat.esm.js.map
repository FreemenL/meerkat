{"version":3,"file":"meerkat.esm.js","sources":["../src/utils/config.js","../src/utils/index.js","../src/utils/cache.js","../src/utils/report.js","../src/performance/fetch.js","../src/performance/observiceEntries.js","../src/performance/observerLoad.js","../src/performance/observerFCP.js","../src/performance/observerLCP.js","../src/performance/observerPaint.js","../src/performance/index.js","../src/error/index.js","../src/behavior/onClick.js","../src/behavior/pageChange.js","../src/behavior/pv.js","../src/behavior/index.js","../src/index.js"],"sourcesContent":["const config = {\n    url:'http://127.0.0.1:8080/api',\n    projectName:'eyesdk',\n    appId:'123456',\n    userId:'123123123',\n    batchSize:20\n};\n\nexport function setConfig(options){\n    for(let key in options){\n        if(config[key]){\n            config[key]=options[key];\n        }\n    }\n}\n\nexport default config;","export function deepCopy(target) {\n    if (typeof target === 'object') {\n        const result = Array.isArray(target) ? [] : {}\n        for (const key in target) {\n            if (typeof target[key] == 'object') {\n                result[key] = deepCopy(target[key])\n            } else {\n                result[key] = target[key]\n            }\n        }\n        return result\n    }\n\n    return target\n}\n\nexport function generateUniqueID() {\n    return `meerkat-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`\n}","import { deepCopy } from './index'\n\nconst cache = []\n\nexport function getCache() {\n    return deepCopy(cache)\n}\n\nexport function addCache(data) {\n    cache.push(data)\n}\n\nexport function clearCache() {\n    cache.length = 0\n}\n","import config  from \"./config\";\nimport { generateUniqueID } from './index'\nimport { addCache, clearCache, getCache } from \"./cache\";\nexport const originalProto = XMLHttpRequest.prototype;\nexport const originalSend = originalProto.send;\nexport const originalOpen = originalProto.open;\n\nexport function lazyReportBatch(data){\n    console.log(`data`,data);\n    addCache(data);\n    const reqData = getCache();\n    if(reqData.length&&reqData.length>config.batchSize){\n        console.log('data----',reqData)\n        report(reqData);\n        clearCache();\n    }\n}\n\nexport function report(data){\n    if(!config.url){\n        console.log('请设置上传的url地址');\n    }\n\n    const reportData = JSON.stringify({\n        id: generateUniqueID(),\n        data\n    })\n\n    if(isSupportSendBeacon()){\n        sendBeaconRequest(config,reportData);\n    }else{\n        if(config.useImageUpload){\n            imgRequest(config,reportData);\n        }else{\n            console.log('config.url',config.url);\n            xhrRequest(config.url, reportData)\n        }\n    }\n} \n\n// 发送图片数据\nexport function imgRequest(config,data){\n    const img = new Image();\n    img.src=`${config.url}?data=${encodeURIComponent(JSON.stringify(data))}`\n}\n\n// xhr\nexport function xhrRequest(url, data) {\n    const xhr = new XMLHttpRequest()\n    if (window.requestIdleCallback) {\n         window.requestIdleCallback(() => {\n            originalOpen.call(xhr, 'post', url)\n            originalSend.call(xhr, JSON.stringify(data))\n            console.log('data', data)\n        }, { timeout: 3000 })\n    } else {\n        setTimeout(() => {\n            console.log('request2')\n            originalOpen.call(xhr, 'post', url)\n            originalSend.call(xhr, JSON.stringify(data))\n        })\n    }\n}\n// sendBeacon\nexport function isSupportSendBeacon() {\n    return !!window.navigator?.sendBeacon\n}\n// const sendBeacon = isSupportSendBeacon() ? window.navigator.sendBeacon.bind(window.navigator) : xhrRequest\nconst sendBeacon = isSupportSendBeacon() ? window.navigator.sendBeacon.bind(window.navigator) : (url, data) => xhrRequest(url, data)\nexport function sendBeaconRequest(config,data) {\n     if (window.requestIdleCallback) {\n        window.requestIdleCallback(() => {\n            sendBeacon(config.url, data)\n        }, { timeout: 3000 })\n    } else {\n        setTimeout(() => {\n            sendBeacon(config.url, data)\n        })\n    }\n}\n\n","\nimport { lazyReportBatch } from '../utils/report'\n\nconst originalFetch = window.fetch\n\nfunction overwriteFetch() {\n    window.fetch = function newFetch(url, config) {\n        const startTime = Date.now()\n        const reportData = {\n            startTime,\n            url,\n            method: (config?.method || 'GET').toUpperCase(),\n            subType: 'fetch',\n            type: 'performance',\n        }\n        return originalFetch(url, config)\n        .then(res => {\n            reportData.endTime = Date.now()\n            reportData.duration = reportData.endTime - reportData.startTime\n\n            const data = res.clone()\n            reportData.status = data.status\n            reportData.success = data.ok\n             //上报数据\n            lazyReportBatch(reportData);\n            return res\n        })\n        .catch(err => {\n            reportData.endTime = Date.now();\n            reportData.duration = reportData.endTime - reportData.startTime;\n            reportData.status = 0;\n            reportData.success = false;\n             //上报数据\n            lazyReportBatch(reportData);\n        })\n    }\n}\n\nexport default function fetch() {\n    overwriteFetch()\n}","import { lazyReportBatch } from '../utils/report';\n\n// 统计静态资源加载性能\nexport default function observeEntries(){\n    if(document.readyState==='complete'){\n       observeEvent()\n    }else{\n        const onLoad = ()=>{\n           observeEvent();\n           window.removeEventListener('load',onLoad,true)\n        }\n        window.addEventListener('load',onLoad,true)\n    }\n}\n\nexport function observeEvent(){\n    const entryHandler = (list)=>{\n        const data = list.getEntries();\n        for(let entry of data){\n            if(observer){\n                observer.disconnect();\n            }\n            const reportData = {\n                name: entry.name, // 资源名字\n                type: 'performance', // 统计类型\n                subType: entry.entryType,// entry 类型\n                sourceType: entry.initiatorType, // 资源类型\n                duration: entry.duration,// 资源加载时间\n                dns: entry.domainLookupEnd - entry.domainLookupStart,// dns 解析时间\n                tcp: entry.connectEnd-entry.connectStart,// tcp 建连时间\n                redirect: entry.redirectEnd - entry.redirectStart,// 重定向时间\n                ttdb: entry.respinseStart,// 首字节时间\n                protocol: entry.nextHopProtocol, // 请求协议\n                responseBodySize: entry.encodeBodySize,// 响应内容大小\n                responseHandlerSize: entry.transferSize-entry.encodeBodySize, // 响应头部大小\n                transferSize: entry.transferSize,// 请求内容大小，\n                resourceSize: entry.decodeBodySize,//资源解压后的大小,\n                startTime: performance.now(),// \n            }\n            // 上报数据\n            lazyReportBatch(reportData)\n        }\n        \n    }\n    const observer = new PerformanceObserver(entryHandler);\n    observer.observe({type:['resource'],buffered:true});\n}\n\n","// 统计页面load时间\nimport { lazyReportBatch } from '../utils/report';\n\nexport default function observeLoad(){  \n    window.addEventListener('pageShow',function(event){\n        requestAnimationFrame(()=>{\n            ['load'].forEach((type)=>{\n                const reportData = {\n                    type:'performance',\n                    subType:type,\n                    pageUrl:window.location.href,\n                    startTime: performance.now()- event.timeStamp\n                }\n                lazyReportBatch(reportData)\n            })\n        },true)\n    })\n}\n","\nimport { lazyReportBatch } from '../utils/report'\n\nexport default function observerFCP(){\n    const entryHandler = (list)=>{\n    for(const entry of list.getEntries()) {\n            if(entry.name==='first-content-paint'){\n                observer.disconnect();\n                const json = entry.toJSON();\n                const reportData = {\n                    ...json,\n                    type: 'performance',\n                    subType: entry.name,\n                    pageUrl: window.location.href\n                }\n                lazyReportBatch(reportData);\n            }\n    }\n    }\n    \n    // 统计计算fp 页面白屏时间\n    const observer = new PerformanceObserver(entryHandler);\n    observer.observe({type:'paint',buffered:true});\n}","import { lazyReportBatch } from '../utils/report';\n\nexport default function observerLCP(){\n  const entryHandler = (list) => {\n        if (observer) {\n            observer.disconnect()\n        }\n        for (const entry of list.getEntries()) {\n            const json = entry.toJSON()\n            console.log('json',json);\n            const reportData = {\n                ...json,\n                target: entry.element?.tagName,\n                name: entry.entryType,\n                subType: entry.entryType,\n                type: 'performance',\n                pageURL: window.location.href,\n            }\n            lazyReportBatch(reportData)\n        }\n    }\n\n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'largest-contentful-paint', buffered: true })\n\n}\n","import { lazyReportBatch } from '../utils/report';\n\nexport default function observerPaint(){\n    const entryHandler = (list)=>{\n    for(const entry of list.getEntries()) {\n            if(entry.name==='first-paint'){\n                observer.disconnect();\n                const json = entry.toJSON();\n                console.log(json);\n                const reportData = {\n                    ...json,\n                    type: 'performance',\n                    subType: entry.name,\n                    pageUrl: window.location.href\n                }\n                lazyReportBatch(reportData)\n            }\n        }\n    }\n    // 统计计算fp 页面白屏时间\n    const observer = new PerformanceObserver(entryHandler);\n    observer.observe({type:'paint',buffered:true});\n}   ","import fetch from \"./fetch\";\nimport observeEntries from \"./observiceEntries\";\nimport observeLoad from \"./observerLoad\";\nimport observerFCP from \"./observerFCP\";\nimport observerLCP from './observerLCP';\nimport observerPaint from './observerPaint'\nimport xhr from \"./xhr\";\n\nexport default function performance(){\n    fetch();\n    observeEntries();\n    observeLoad();\n    observerFCP();\n    observerLCP();\n    observerPaint();\n    xhr();\n}","\nimport { lazyReportBatch } from '../utils/report'\n\nexport default function error(){\n    // 捕获资源加载错误\n    window.addEventListener('error',(event)=>{\n        const target = event.target;\n        if(!target){\n            return;\n        }\n        if(target.src||target.href){\n            const url = target.src||target.href;\n            const reportData = {\n                type:'error',\n                subType:'resource',\n                url,\n                html:target.outerHTML,\n                pageUrl: window.location.href,\n                paths: event.path,\n                resourceType: target.tagName\n            }\n            lazyReportBatch(reportData)\n        }\n    },true)\n    // 捕获js错误\n    window.onerror = function(msg,url,lineNo,columnNo,error){\n        const reportData={\n            type:'error',\n            subType:'js',\n            msg,\n            url,\n            lineNo,\n            columnNo,\n            stack:error.stack,\n            pageUrl:window.location.href\n        }\n        lazyReportBatch(reportData)\n    }\n    // 捕获 promise 错误\n    window.addEventListener('unhandledrejection',(event)=>{\n        const reportData = {\n            type:'error',\n            subType:'promise',\n            reason: event.reason?.stack,\n            pageUrl:window.location.href,\n            startTIme: event.timeStamp\n        }\n        lazyReportBatch(reportData)\n    },true)\n\n}","\nimport { lazyReportBatch } from '../utils/report'\nimport { generateUniqueID } from '../utils/index'\n\nexport default function onClick() {\n    ['mousedown', 'touchstart'].forEach(eventType => {\n        window.addEventListener(eventType, event => {\n            const target = event.target\n            const { top, left } = target.getBoundingClientRect()\n            lazyReportBatch({\n                top,\n                left,\n                eventType,\n                pageHeight: document.documentElement.scrollHeight || document.body.scrollHeight,\n                scrollTop: document.documentElement.scrollTop || document.body.scrollTop,\n                type: 'behavior',\n                subType: 'click',\n                target: target.tagName,\n                paths: event.path||event?.composedPath()?.map(item=>item.tagName),\n                startTime: event.timeStamp,\n                pageURL: window.location.href,\n                outerHTML: target.outerHTML,\n                innerHTML: target.innerHTML,\n                width: target.offsetWidth,\n                height: target.offsetHeight,\n                uuid: generateUniqueID(),\n            })\n        })\n    })\n}","import { lazyReportBatch } from '../utils/report'\nimport { generateUniqueID } from '../utils/index'\n\n// 上报页面改变事件\nexport default function pageChange() {\n    let oldURL = '';\n    window.addEventListener('hashchange', event => {\n        const newURL = event.newURL\n        lazyReportBatch({\n            from: oldURL,\n            to: newURL,\n            type: 'behavior',\n            subType: 'hashchange',\n            startTime: performance.now(),\n            uuid: generateUniqueID(),\n        })\n        oldURL = newURL\n    }, true)\n\n    let from = ''\n    window.addEventListener('popstate', () => {\n        const to = window.location.href;\n        lazyReportBatch({\n            from,\n            to,\n            type: 'behavior',\n            subType: 'popstate',\n            startTime: performance.now(),\n            uuid: generateUniqueID(),\n        })\n        from = to\n    }, true)\n}","\nimport { lazyReportBatch } from '../utils/report'\nimport { generateUniqueID } from '../utils/index'\n\n// 上报pv数据;\n\nexport default function pv() {\n    lazyReportBatch({\n        type: 'behavior',\n        subType: 'pv',\n        startTime: performance.now(),\n        pageURL: window.location.href,\n        referrer: document.referrer,\n        uuid: generateUniqueID(),\n    })\n}","import onClick from \"./onClick\";\nimport pageChange from \"./pageChange\";\nimport pv from \"./pv\";\n\nexport default function behavior(){\n   pv();\n   pageChange();\n   onClick();\n}\n","import performance from \"./performance/index\";\nimport error from \"./error/index\";\nimport behavior from \"./behavior/index\";\nimport { setConfig } from \"./utils/config\";\nimport { lazyReportBatch } from './utils/report'\n\nwindow.__webEyeSDK__ = {\n    version: '1.0.0'\n}\n\nfunction install(Vue,options){\n    if(window.__webEyeSDK__.vue){\n        return\n    }\n    setConfig(options)\n    window.__webEyeSDK__.vue=true;\n    const handler = Vue.config.errorHandler;\n    Vue.config.errorHandler = function(err,vm,info){\n\n        const reportData = {\n            info,\n            error:err.stack,\n            subType:'vue',\n            type:'error',\n            startTime:window.performance.now(),\n            pageURL: window.location.href\n        }\n\n        lazyReportBatch(reportData);\n\n        if(handler){\n            handler.call(this,err,vm,info)\n        }\n    }\n}\n\nfunction errorBoundary(err,info,options={}){\n    if(window.__webEyeSDK__.react){\n        return\n    }\n    window.__webEyeSDK__.react = true;\n    setConfig(options);\n    const reportData = {\n        info,\n        error:err?.stack,\n        subType:'react',\n        type:'error',\n        startTime:window.performance.now(),\n        pageURL: window.location.href\n    }\n\n    lazyReportBatch(reportData);\n}   \n\n\nfunction init (options){\n    setConfig(options);\n    // error();\n    // performance();\n    behavior();\n}\n\nexport default {\n    errorBoundary,\n    install,\n    performance,\n    behavior,\n    error,\n    init,\n}"],"names":["config","url","projectName","appId","userId","batchSize","setConfig","options","key","deepCopy","target","_typeof","result","Array","isArray","generateUniqueID","concat","Date","now","Math","floor","random","cache","getCache","addCache","data","push","clearCache","length","originalProto","XMLHttpRequest","prototype","originalSend","send","originalOpen","open","lazyReportBatch","console","log","reqData","report","reportData","JSON","stringify","id","isSupportSendBeacon","sendBeaconRequest","useImageUpload","imgRequest","xhrRequest","img","Image","src","encodeURIComponent","xhr","window","requestIdleCallback","call","timeout","setTimeout","_window$navigator","navigator","sendBeacon","bind","originalFetch","fetch","overwriteFetch","newFetch","startTime","method","toUpperCase","subType","type","then","res","endTime","duration","clone","status","success","ok","catch","err","observeEntries","document","readyState","observeEvent","onLoad","removeEventListener","addEventListener","entryHandler","list","getEntries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","observer","disconnect","name","entryType","sourceType","initiatorType","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttdb","respinseStart","protocol","nextHopProtocol","responseBodySize","encodeBodySize","responseHandlerSize","transferSize","resourceSize","decodeBodySize","performance","e","f","PerformanceObserver","observe","buffered","observeLoad","event","requestAnimationFrame","forEach","pageUrl","location","href","timeStamp","observerFCP","json","toJSON","_objectSpread","observerLCP","_entry$element","element","tagName","pageURL","observerPaint","error","html","outerHTML","paths","path","resourceType","onerror","msg","lineNo","columnNo","stack","_event$reason","reason","startTIme","onClick","eventType","_event$composedPath","_target$getBoundingCl","getBoundingClientRect","top","left","pageHeight","documentElement","scrollHeight","body","scrollTop","composedPath","map","item","innerHTML","width","offsetWidth","height","offsetHeight","uuid","pageChange","oldURL","newURL","from","to","pv","referrer","behavior","__webEyeSDK__","version","install","Vue","vue","handler","errorHandler","vm","info","errorBoundary","arguments","undefined","react","init"],"mappings":"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"}